import{Q as re,b as wt}from"./dom.a559421d.js";import{a as _e,b as J,c as Ct}from"./render.5df21c78.js";import{u as dt,a as ct,c as ft,b as _t,m as Me}from"./mixtape-store.fcbb97c4.js";import{j as p,t as w,v as te,i as St,w as Q,o as Se,m as se,a2 as qt,r as O,a3 as Mt,a4 as Pe,a5 as Rt,g as Et,k as ee,U as mt,a6 as At,Z as Ft,d as de,a7 as Be,a8 as Bt,c as Te,s as Ie,a9 as $e,a0 as Vt,aa as Pt,Q as vt,_ as Tt,ab as Dt,M as Ot,J as It,y as ie,z as ve,A as T,I as W,E as ce,B as A,D as ge,C as $t,H as Le,K as ze,L as Qe,N as Ke,ac as Ue,q as he}from"./index.cc819744.js";import{h as Lt,m as zt,u as Qt,a as Kt,b as Ut,c as Nt,d as jt,e as Ht,k as Zt,l as Ne,g as je,Q as ne,f as He}from"./player-store.3471ad3c.js";import{Q as Ze}from"./QAvatar.71a916d0.js";import{Q as Yt,u as Wt,a as Gt,b as Ye}from"./QBtn.74dca0f3.js";import{Q as Jt,a as Re}from"./QCard.2c673b47.js";import{b as Xt,g as ke,R as We}from"./Ripple.e5e36cd1.js";import{Q as en}from"./QPage.159ee8d9.js";var tn=_e({name:"QBanner",props:{...dt,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=te(),l=ct(e,n),d=p(()=>"q-banner row items-center"+(e.dense===!0?" q-banner--dense":"")+(l.value===!0?" q-banner--dark q-dark":"")+(e.rounded===!0?" rounded-borders":"")),c=p(()=>`q-banner__actions row items-center justify-end col-${e.inlineActions===!0?"auto":"all"}`);return()=>{const f=[w("div",{class:"q-banner__avatar col-auto row items-center self-start"},J(t.avatar)),w("div",{class:"q-banner__content col text-body2"},J(t.default))],s=J(t.action);return s!==void 0&&f.push(w("div",{class:c.value},s)),w("div",{class:d.value+(e.inlineActions===!1&&s!==void 0?" q-banner--top-padding":""),role:"alert"},f)}}});function nn({validate:e,resetValidation:t,requiresQForm:n}){const l=St(qt,!1);if(l!==!1){const{props:d,proxy:c}=te();Object.assign(c,{validate:e,resetValidation:t}),Q(()=>d.disable,f=>{f===!0?(typeof t=="function"&&t(),l.unbindComponent(c)):l.bindComponent(c)}),Se(()=>{d.disable!==!0&&l.bindComponent(c)}),se(()=>{d.disable!==!0&&l.unbindComponent(c)})}else n===!0&&console.error("Parent QForm not found on useFormChild()!")}const Ge=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,Je=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,Xe=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,pe=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,ye=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,Ee={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>Ge.test(e),hexaColor:e=>Je.test(e),hexOrHexaColor:e=>Xe.test(e),rgbColor:e=>pe.test(e),rgbaColor:e=>ye.test(e),rgbOrRgbaColor:e=>pe.test(e)||ye.test(e),hexOrRgbColor:e=>Ge.test(e)||pe.test(e),hexaOrRgbaColor:e=>Je.test(e)||ye.test(e),anyColor:e=>Xe.test(e)||pe.test(e)||ye.test(e)},ln=[!0,!1,"ondemand"],on={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],default:!1,validator:e=>ln.includes(e)}};function an(e,t){const{props:n,proxy:l}=te(),d=O(!1),c=O(null),f=O(null);nn({validate:L,resetValidation:D});let s=0,_;const y=p(()=>n.rules!==void 0&&n.rules!==null&&n.rules.length!==0),b=p(()=>n.disable!==!0&&y.value===!0&&t.value===!1),g=p(()=>n.error===!0||d.value===!0),j=p(()=>typeof n.errorMessage=="string"&&n.errorMessage.length!==0?n.errorMessage:c.value);Q(()=>n.modelValue,()=>{f.value=!0,b.value===!0&&n.lazyRules===!1&&K()}),Q(()=>n.reactiveRules,I=>{I===!0?_===void 0&&(_=Q(()=>n.rules,()=>{b.value===!0&&f.value===!0&&n.lazyRules!=="ondemand"&&K()},{immediate:!0})):_!==void 0&&(_(),_=void 0)},{immediate:!0}),Q(()=>n.lazyRules,I=>{I===!1&&b.value===!0&&f.value===!0&&K()}),Q(e,I=>{I===!0?f.value===null&&(f.value=n.lazyRules===!0):b.value===!0&&(n.lazyRules===!1||n.lazyRules===!0&&f.value===!0)&&K()});function D(){s++,t.value=!1,f.value=null,d.value=!1,c.value=null,K.cancel()}function L(I=n.modelValue){if(n.disable===!0||y.value===!1)return!0;const E=++s,S=t.value!==!0?()=>{f.value=!0}:()=>{},N=(V,P)=>{V===!0&&S(),d.value=V,c.value=P||null,t.value=!1},Z=[];for(let V=0;V<n.rules.length;V++){const P=n.rules[V];let R;if(typeof P=="function"?R=P(I,Ee):typeof P=="string"&&Ee[P]!==void 0&&(R=Ee[P](I)),R===!1||typeof R=="string")return N(!0,R),!1;R!==!0&&R!==void 0&&Z.push(R)}return Z.length===0?(N(!1),!0):(t.value=!0,Promise.all(Z).then(V=>{if(V===void 0||Array.isArray(V)===!1||V.length===0)return E===s&&N(!1),!0;const P=V.find(R=>R===!1||typeof R=="string");return E===s&&N(P!==void 0,P),P===void 0},V=>(E===s&&(console.error(V),N(!0)),!1)))}const K=Mt(L,0);return se(()=>{_!==void 0&&_(),K.cancel()}),Object.assign(l,{resetValidation:D,validate:L}),Pe(l,"hasError",()=>g.value),{isDirtyModel:f,hasRules:y,hasError:g,errorMessage:j,validate:L,resetValidation:D}}const et=/^on[A-Z]/;function rn(e,t){const n={listeners:O({}),attributes:O({})};function l(){const d={},c={};for(const f in e)f!=="class"&&f!=="style"&&et.test(f)===!1&&(d[f]=e[f]);for(const f in t.props)et.test(f)===!0&&(c[f]=t.props[f]);n.attributes.value=d,n.listeners.value=c}return Rt(l),l(),n}let Ae,be=0;const U=new Array(256);for(let e=0;e<256;e++)U[e]=(e+256).toString(16).substring(1);const un=(()=>{const e=typeof crypto!="undefined"?crypto:typeof window!="undefined"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const n=new Uint8Array(t);return e.getRandomValues(n),n}}return t=>{const n=[];for(let l=t;l>0;l--)n.push(Math.floor(Math.random()*256));return n}})(),tt=4096;function gt(){(Ae===void 0||be+16>tt)&&(be=0,Ae=un(tt));const e=Array.prototype.slice.call(Ae,be,be+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,U[e[0]]+U[e[1]]+U[e[2]]+U[e[3]]+"-"+U[e[4]]+U[e[5]]+"-"+U[e[6]]+U[e[7]]+"-"+U[e[8]]+U[e[9]]+"-"+U[e[10]]+U[e[11]]+U[e[12]]+U[e[13]]+U[e[14]]+U[e[15]]}let le=[],me=[];function ht(e){me=me.filter(t=>t!==e)}function sn(e){ht(e),me.push(e)}function nt(e){ht(e),me.length===0&&le.length!==0&&(le[le.length-1](),le=[])}function De(e){me.length===0?e():le.push(e)}function dn(e){le=le.filter(t=>t!==e)}function pt(e,t){return e===void 0?t===!0?`f_${gt()}`:void 0:e}function Ve(e){return e!=null&&(""+e).length!==0}const cn={...dt,...on,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]},fn=["update:modelValue","clear","focus","blur","popupShow","popupHide"];function mn({requiredForAttr:e=!0,tagProp:t}={}){const{props:n,attrs:l,proxy:d,vnode:c}=te(),f=ct(n,d.$q);return{requiredForAttr:e,tag:t===!0?p(()=>n.tag):{value:"label"},isDark:f,editable:p(()=>n.disable!==!0&&n.readonly!==!0),innerLoading:O(!1),focused:O(!1),hasPopupOpen:!1,splitAttrs:rn(l,c),targetUid:O(pt(n.for,e)),rootRef:O(null),targetRef:O(null),controlRef:O(null)}}function vn(e){const{props:t,emit:n,slots:l,attrs:d,proxy:c}=te(),{$q:f}=c;let s=null;e.hasValue===void 0&&(e.hasValue=p(()=>Ve(t.modelValue))),e.emitValue===void 0&&(e.emitValue=o=>{n("update:modelValue",o)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:r,onFocusout:i}),Object.assign(e,{clearValue:m,onControlFocusin:r,onControlFocusout:i,focus:R}),e.computedCounter===void 0&&(e.computedCounter=p(()=>{if(t.counter!==!1){const o=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,k=t.maxlength!==void 0?t.maxlength:t.maxValues;return o+(k!==void 0?" / "+k:"")}}));const{isDirtyModel:_,hasRules:y,hasError:b,errorMessage:g,resetValidation:j}=an(e.focused,e.innerLoading),D=e.floatingLabel!==void 0?p(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):p(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),L=p(()=>t.bottomSlots===!0||t.hint!==void 0||y.value===!0||t.counter===!0||t.error!==null),K=p(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),I=p(()=>`q-field row no-wrap items-start q-field--${K.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(D.value===!0?" q-field--float":"")+(S.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(b.value===!0?" q-field--error":"")+(b.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&L.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),E=p(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(b.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length!==0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),S=p(()=>t.labelSlot===!0||t.label!==void 0),N=p(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&b.value!==!0?` text-${t.labelColor}`:"")),Z=p(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:D.value,modelValue:t.modelValue,emitValue:e.emitValue})),V=p(()=>{const o={for:e.targetUid.value};return t.disable===!0&&(o["aria-disabled"]="true"),o});Q(()=>t.for,o=>{e.targetUid.value=pt(o,e.requiredForAttr)});function P(){const o=document.activeElement;let k=e.targetRef!==void 0&&e.targetRef.value;k&&(o===null||o.id!==e.targetUid.value)&&(k.hasAttribute("tabindex")===!0||(k=k.querySelector("[tabindex]")),k&&k!==o&&k.focus({preventScroll:!0}))}function R(){De(P)}function X(){dn(P);const o=document.activeElement;o!==null&&e.rootRef.value.contains(o)&&o.blur()}function r(o){s!==null&&(clearTimeout(s),s=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,n("focus",o))}function i(o,k){s!==null&&clearTimeout(s),s=setTimeout(()=>{s=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,n("blur",o)),k!==void 0&&k())})}function m(o){Et(o),f.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),n("update:modelValue",null),n("clear",t.modelValue),ee(()=>{j(),f.platform.is.mobile!==!0&&(_.value=!1)})}function u(){const o=[];return l.prepend!==void 0&&o.push(w("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:de},l.prepend())),o.push(w("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},C())),b.value===!0&&t.noErrorIcon===!1&&o.push(F("error",[w(re,{name:f.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?o.push(F("inner-loading-append",l.loading!==void 0?l.loading():[w(Yt,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&o.push(F("inner-clearable-append",[w(re,{class:"q-field__focusable-action",tag:"button",name:t.clearIcon||f.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:m})])),l.append!==void 0&&o.push(w("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:de},l.append())),e.getInnerAppend!==void 0&&o.push(F("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&o.push(e.getControlChild()),o}function C(){const o=[];return t.prefix!==void 0&&t.prefix!==null&&o.push(w("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&o.push(e.getShadowControl()),e.getControl!==void 0?o.push(e.getControl()):l.rawControl!==void 0?o.push(l.rawControl()):l.control!==void 0&&o.push(w("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},l.control(Z.value))),S.value===!0&&o.push(w("div",{class:N.value},J(l.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&o.push(w("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),o.concat(J(l.default))}function x(){let o,k;b.value===!0?g.value!==null?(o=[w("div",{role:"alert"},g.value)],k=`q--slot-error-${g.value}`):(o=J(l.error),k="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(o=[w("div",t.hint)],k=`q--slot-hint-${t.hint}`):(o=J(l.hint),k="q--slot-hint"));const H=t.counter===!0||l.counter!==void 0;if(t.hideBottomSpace===!0&&H===!1&&o===void 0)return;const q=w("div",{key:k,class:"q-field__messages col"},o);return w("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:de},[t.hideBottomSpace===!0?q:w(Be,{name:"q-transition--field-message"},()=>q),H===!0?w("div",{class:"q-field__counter"},l.counter!==void 0?l.counter():e.computedCounter.value):null])}function F(o,k){return k===null?null:w("div",{key:o,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},k)}let h=!1;return mt(()=>{h=!0}),At(()=>{h===!0&&t.autofocus===!0&&c.focus()}),Se(()=>{Ft.value===!0&&e.requiredForAttr===!0&&t.for===void 0&&(e.targetUid.value=`f_${gt()}`),t.autofocus===!0&&c.focus()}),se(()=>{s!==null&&clearTimeout(s)}),Object.assign(c,{focus:R,blur:X}),function(){const k=e.getControl===void 0&&l.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...V.value}:V.value;return w(e.tag.value,{ref:e.rootRef,class:[I.value,d.class],style:d.style,...k},[l.before!==void 0?w("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:de},l.before()):null,w("div",{class:"q-field__inner relative-position col self-stretch"},[w("div",{ref:e.controlRef,class:E.value,tabindex:-1,...e.controlEvents},u()),L.value===!0?x():null]),l.after!==void 0?w("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:de},l.after()):null])}}const lt={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},Ce={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},yt=Object.keys(Ce);yt.forEach(e=>{Ce[e].regex=new RegExp(Ce[e].pattern)});const gn=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+yt.join("")+"])|(.)","g"),ot=/[.*+?^${}()|[\]\\]/g,z=String.fromCharCode(1),hn={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function pn(e,t,n,l){let d,c,f,s,_,y;const b=O(null),g=O(D());function j(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}Q(()=>e.type+e.autogrow,K),Q(()=>e.mask,r=>{if(r!==void 0)I(g.value,!0);else{const i=R(g.value);K(),e.modelValue!==i&&t("update:modelValue",i)}}),Q(()=>e.fillMask+e.reverseFillMask,()=>{b.value===!0&&I(g.value,!0)}),Q(()=>e.unmaskedValue,()=>{b.value===!0&&I(g.value)});function D(){if(K(),b.value===!0){const r=V(R(e.modelValue));return e.fillMask!==!1?X(r):r}return e.modelValue}function L(r){if(r<d.length)return d.slice(-r);let i="",m=d;const u=m.indexOf(z);if(u>-1){for(let C=r-m.length;C>0;C--)i+=z;m=m.slice(0,u)+i+m.slice(u)}return m}function K(){if(b.value=e.mask!==void 0&&e.mask.length!==0&&j(),b.value===!1){s=void 0,d="",c="";return}const r=lt[e.mask]===void 0?e.mask:lt[e.mask],i=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",m=i.replace(ot,"\\$&"),u=[],C=[],x=[];let F=e.reverseFillMask===!0,h="",o="";r.replace(gn,($,a,B,Y,v)=>{if(Y!==void 0){const M=Ce[Y];x.push(M),o=M.negate,F===!0&&(C.push("(?:"+o+"+)?("+M.pattern+"+)?(?:"+o+"+)?("+M.pattern+"+)?"),F=!1),C.push("(?:"+o+"+)?("+M.pattern+")?")}else if(B!==void 0)h="\\"+(B==="\\"?"":B),x.push(B),u.push("([^"+h+"]+)?"+h+"?");else{const M=a!==void 0?a:v;h=M==="\\"?"\\\\\\\\":M.replace(ot,"\\\\$&"),x.push(M),u.push("([^"+h+"]+)?"+h+"?")}});const k=new RegExp("^"+u.join("")+"("+(h===""?".":"[^"+h+"]")+"+)?"+(h===""?"":"["+h+"]*")+"$"),H=C.length-1,q=C.map(($,a)=>a===0&&e.reverseFillMask===!0?new RegExp("^"+m+"*"+$):a===H?new RegExp("^"+$+"("+(o===""?".":o)+"+)?"+(e.reverseFillMask===!0?"$":m+"*")):new RegExp("^"+$));f=x,s=$=>{const a=k.exec(e.reverseFillMask===!0?$:$.slice(0,x.length+1));a!==null&&($=a.slice(1).join(""));const B=[],Y=q.length;for(let v=0,M=$;v<Y;v++){const G=q[v].exec(M);if(G===null)break;M=M.slice(G.shift().length),B.push(...G)}return B.length!==0?B.join(""):$},d=x.map($=>typeof $=="string"?$:z).join(""),c=d.split(z).join(i)}function I(r,i,m){const u=l.value,C=u.selectionEnd,x=u.value.length-C,F=R(r);i===!0&&K();const h=V(F),o=e.fillMask!==!1?X(h):h,k=g.value!==o;u.value!==o&&(u.value=o),k===!0&&(g.value=o),document.activeElement===u&&ee(()=>{if(o===c){const q=e.reverseFillMask===!0?c.length:0;u.setSelectionRange(q,q,"forward");return}if(m==="insertFromPaste"&&e.reverseFillMask!==!0){const q=u.selectionEnd;let $=C-1;for(let a=_;a<=$&&a<q;a++)d[a]!==z&&$++;S.right(u,$);return}if(["deleteContentBackward","deleteContentForward"].indexOf(m)>-1){const q=e.reverseFillMask===!0?C===0?o.length>h.length?1:0:Math.max(0,o.length-(o===c?0:Math.min(h.length,x)+1))+1:C;u.setSelectionRange(q,q,"forward");return}if(e.reverseFillMask===!0)if(k===!0){const q=Math.max(0,o.length-(o===c?0:Math.min(h.length,x+1)));q===1&&C===1?u.setSelectionRange(q,q,"forward"):S.rightReverse(u,q)}else{const q=o.length-x;u.setSelectionRange(q,q,"backward")}else if(k===!0){const q=Math.max(0,d.indexOf(z),Math.min(h.length,C)-1);S.right(u,q)}else{const q=C-1;S.right(u,q)}});const H=e.unmaskedValue===!0?R(o):o;String(e.modelValue)!==H&&(e.modelValue!==null||H!=="")&&n(H,!0)}function E(r,i,m){const u=V(R(r.value));i=Math.max(0,d.indexOf(z),Math.min(u.length,i)),_=i,r.setSelectionRange(i,m,"forward")}const S={left(r,i){const m=d.slice(i-1).indexOf(z)===-1;let u=Math.max(0,i-1);for(;u>=0;u--)if(d[u]===z){i=u,m===!0&&i++;break}if(u<0&&d[i]!==void 0&&d[i]!==z)return S.right(r,0);i>=0&&r.setSelectionRange(i,i,"backward")},right(r,i){const m=r.value.length;let u=Math.min(m,i+1);for(;u<=m;u++)if(d[u]===z){i=u;break}else d[u-1]===z&&(i=u);if(u>m&&d[i-1]!==void 0&&d[i-1]!==z)return S.left(r,m);r.setSelectionRange(i,i,"forward")},leftReverse(r,i){const m=L(r.value.length);let u=Math.max(0,i-1);for(;u>=0;u--)if(m[u-1]===z){i=u;break}else if(m[u]===z&&(i=u,u===0))break;if(u<0&&m[i]!==void 0&&m[i]!==z)return S.rightReverse(r,0);i>=0&&r.setSelectionRange(i,i,"backward")},rightReverse(r,i){const m=r.value.length,u=L(m),C=u.slice(0,i+1).indexOf(z)===-1;let x=Math.min(m,i+1);for(;x<=m;x++)if(u[x-1]===z){i=x,i>0&&C===!0&&i--;break}if(x>m&&u[i-1]!==void 0&&u[i-1]!==z)return S.leftReverse(r,m);r.setSelectionRange(i,i,"forward")}};function N(r){t("click",r),y=void 0}function Z(r){if(t("keydown",r),Bt(r)===!0||r.altKey===!0)return;const i=l.value,m=i.selectionStart,u=i.selectionEnd;if(r.shiftKey||(y=void 0),r.keyCode===37||r.keyCode===39){r.shiftKey&&y===void 0&&(y=i.selectionDirection==="forward"?m:u);const C=S[(r.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(r.preventDefault(),C(i,y===m?u:m),r.shiftKey){const x=i.selectionStart;i.setSelectionRange(Math.min(y,x),Math.max(y,x),"forward")}}else r.keyCode===8&&e.reverseFillMask!==!0&&m===u?(S.left(i,m),i.setSelectionRange(i.selectionStart,u,"backward")):r.keyCode===46&&e.reverseFillMask===!0&&m===u&&(S.rightReverse(i,u),i.setSelectionRange(m,i.selectionEnd,"forward"))}function V(r){if(r==null||r==="")return"";if(e.reverseFillMask===!0)return P(r);const i=f;let m=0,u="";for(let C=0;C<i.length;C++){const x=r[m],F=i[C];if(typeof F=="string")u+=F,x===F&&m++;else if(x!==void 0&&F.regex.test(x))u+=F.transform!==void 0?F.transform(x):x,m++;else return u}return u}function P(r){const i=f,m=d.indexOf(z);let u=r.length-1,C="";for(let x=i.length-1;x>=0&&u>-1;x--){const F=i[x];let h=r[u];if(typeof F=="string")C=F+C,h===F&&u--;else if(h!==void 0&&F.regex.test(h))do C=(F.transform!==void 0?F.transform(h):h)+C,u--,h=r[u];while(m===x&&h!==void 0&&F.regex.test(h));else return C}return C}function R(r){return typeof r!="string"||s===void 0?typeof r=="number"?s(""+r):r:s(r)}function X(r){return c.length-r.length<=0?r:e.reverseFillMask===!0&&r.length!==0?c.slice(0,-r.length)+r:r+c.slice(r.length)}return{innerValue:g,hasMask:b,moveCursorForPaste:E,updateMaskValue:I,onMaskedKeydown:Z,onMaskedClick:N}}function yn(e,t){function n(){const l=e.modelValue;try{const d="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(l)===l&&("length"in l?Array.from(l):[l]).forEach(c=>{d.items.add(c)}),{files:d.files}}catch{return{files:void 0}}}return t===!0?p(()=>{if(e.type==="file")return n()}):p(n)}const bn=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,xn=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,kn=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,wn=/[a-z0-9_ -]$/i;function Cn(e){return function(n){if(n.type==="compositionend"||n.type==="change"){if(n.target.qComposing!==!0)return;n.target.qComposing=!1,e(n)}else n.type==="compositionupdate"&&n.target.qComposing!==!0&&typeof n.data=="string"&&(Te.is.firefox===!0?wn.test(n.data)===!1:bn.test(n.data)===!0||xn.test(n.data)===!0||kn.test(n.data)===!0)===!0&&(n.target.qComposing=!0)}}var Fe=_e({name:"QInput",inheritAttrs:!1,props:{...cn,...hn,...Lt,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...fn,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:n}){const{proxy:l}=te(),{$q:d}=l,c={};let f=NaN,s,_,y=null,b;const g=O(null),j=zt(e),{innerValue:D,hasMask:L,moveCursorForPaste:K,updateMaskValue:I,onMaskedKeydown:E,onMaskedClick:S}=pn(e,t,h,g),N=yn(e,!0),Z=p(()=>Ve(D.value)),V=Cn(x),P=mn(),R=p(()=>e.type==="textarea"||e.autogrow===!0),X=p(()=>R.value===!0||["text","search","url","tel","password"].includes(e.type)),r=p(()=>{const a={...P.splitAttrs.listeners.value,onInput:x,onPaste:C,onChange:k,onBlur:H,onFocus:Ie};return a.onCompositionstart=a.onCompositionupdate=a.onCompositionend=V,L.value===!0&&(a.onKeydown=E,a.onClick=S),e.autogrow===!0&&(a.onAnimationend=F),a}),i=p(()=>{const a={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:j.value,...P.splitAttrs.attributes.value,id:P.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return R.value===!1&&(a.type=e.type),e.autogrow===!0&&(a.rows=1),a});Q(()=>e.type,()=>{g.value&&(g.value.value=e.modelValue)}),Q(()=>e.modelValue,a=>{if(L.value===!0){if(_===!0&&(_=!1,String(a)===f))return;I(a)}else D.value!==a&&(D.value=a,e.type==="number"&&c.hasOwnProperty("value")===!0&&(s===!0?s=!1:delete c.value));e.autogrow===!0&&ee(o)}),Q(()=>e.autogrow,a=>{a===!0?ee(o):g.value!==null&&n.rows>0&&(g.value.style.height="auto")}),Q(()=>e.dense,()=>{e.autogrow===!0&&ee(o)});function m(){De(()=>{const a=document.activeElement;g.value!==null&&g.value!==a&&(a===null||a.id!==P.targetUid.value)&&g.value.focus({preventScroll:!0})})}function u(){g.value!==null&&g.value.select()}function C(a){if(L.value===!0&&e.reverseFillMask!==!0){const B=a.target;K(B,B.selectionStart,B.selectionEnd)}t("paste",a)}function x(a){if(!a||!a.target)return;if(e.type==="file"){t("update:modelValue",a.target.files);return}const B=a.target.value;if(a.target.qComposing===!0){c.value=B;return}if(L.value===!0)I(B,!1,a.inputType);else if(h(B),X.value===!0&&a.target===document.activeElement){const{selectionStart:Y,selectionEnd:v}=a.target;Y!==void 0&&v!==void 0&&ee(()=>{a.target===document.activeElement&&B.indexOf(a.target.value)===0&&a.target.setSelectionRange(Y,v)})}e.autogrow===!0&&o()}function F(a){t("animationend",a),o()}function h(a,B){b=()=>{y=null,e.type!=="number"&&c.hasOwnProperty("value")===!0&&delete c.value,e.modelValue!==a&&f!==a&&(f=a,B===!0&&(_=!0),t("update:modelValue",a),ee(()=>{f===a&&(f=NaN)})),b=void 0},e.type==="number"&&(s=!0,c.value=a),e.debounce!==void 0?(y!==null&&clearTimeout(y),c.value=a,y=setTimeout(b,e.debounce)):b()}function o(){requestAnimationFrame(()=>{const a=g.value;if(a!==null){const B=a.parentNode.style,{scrollTop:Y}=a,{overflowY:v,maxHeight:M}=d.platform.is.firefox===!0?{}:window.getComputedStyle(a),G=v!==void 0&&v!=="scroll";G===!0&&(a.style.overflowY="hidden"),B.marginBottom=a.scrollHeight-1+"px",a.style.height="1px",a.style.height=a.scrollHeight+"px",G===!0&&(a.style.overflowY=parseInt(M,10)<a.scrollHeight?"auto":"hidden"),B.marginBottom="",a.scrollTop=Y}})}function k(a){V(a),y!==null&&(clearTimeout(y),y=null),b!==void 0&&b(),t("change",a.target.value)}function H(a){a!==void 0&&Ie(a),y!==null&&(clearTimeout(y),y=null),b!==void 0&&b(),s=!1,_=!1,delete c.value,e.type!=="file"&&setTimeout(()=>{g.value!==null&&(g.value.value=D.value!==void 0?D.value:"")})}function q(){return c.hasOwnProperty("value")===!0?c.value:D.value!==void 0?D.value:""}se(()=>{H()}),Se(()=>{e.autogrow===!0&&o()}),Object.assign(P,{innerValue:D,fieldClass:p(()=>`q-${R.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:p(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:g,emitValue:h,hasValue:Z,floatingLabel:p(()=>Z.value===!0&&(e.type!=="number"||isNaN(D.value)===!1)||Ve(e.displayValue)),getControl:()=>w(R.value===!0?"textarea":"input",{ref:g,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...i.value,...r.value,...e.type!=="file"?{value:q()}:N.value}),getShadowControl:()=>w("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(R.value===!0?"":" text-no-wrap")},[w("span",{class:"invisible"},q()),w("span",e.shadowText)])});const $=vn(P);return Object.assign(l,{focus:m,select:u,getNativeElement:()=>g.value}),Pe(l,"nativeEl",()=>g.value),$}}),_n=_e({name:"QCardActions",props:{...Wt,vertical:Boolean},setup(e,{slots:t}){const n=Gt(e),l=p(()=>`q-card__actions ${n.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>w("div",{class:l.value},J(t.default))}});function Sn(){let e;const t=te();function n(){e=void 0}return mt(n),se(n),{removeTick:n,registerTick(l){e=l,ee(()=>{e===l&&(Xt(t)===!1&&e(),e=void 0)})}}}const qn={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function Mn(e,t=()=>{},n=()=>{}){return{transitionProps:p(()=>{const l=`q-transition--${e.transitionShow||t()}`,d=`q-transition--${e.transitionHide||n()}`;return{appear:!0,enterFromClass:`${l}-enter-from`,enterActiveClass:`${l}-enter-active`,enterToClass:`${l}-enter-to`,leaveFromClass:`${d}-leave-from`,leaveActiveClass:`${d}-leave-active`,leaveToClass:`${d}-leave-to`}}),transitionStyle:p(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}let Rn=1,En=document.body;function An(e,t){const n=document.createElement("div");if(n.id=t!==void 0?`q-portal--${t}--${Rn++}`:e,$e.globalNodes!==void 0){const l=$e.globalNodes.class;l!==void 0&&(n.className=l)}return En.appendChild(n),n}function Fn(e){e.remove()}const we=[];function Bn(e){return we.find(t=>t.contentEl!==null&&t.contentEl.contains(e))}function Vn(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return ke(e)}else if(e.__qPortal===!0){const n=ke(e);return n!==void 0&&n.$options.name==="QPopupProxy"?(e.hide(t),n):e}e=ke(e)}while(e!=null)}function Pn(e,t,n){for(;n!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(n--,e.$options.name==="QMenu"){e=Vn(e,t);continue}e.hide(t)}e=ke(e)}}function Tn(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function Dn(e,t,n,l){const d=O(!1),c=O(!1);let f=null;const s={},_=l==="dialog"&&Tn(e);function y(g){if(g===!0){nt(s),c.value=!0;return}c.value=!1,d.value===!1&&(_===!1&&f===null&&(f=An(!1,l)),d.value=!0,we.push(e.proxy),sn(s))}function b(g){if(c.value=!1,g!==!0)return;nt(s),d.value=!1;const j=we.indexOf(e.proxy);j!==-1&&we.splice(j,1),f!==null&&(Fn(f),f=null)}return Vt(()=>{b(!0)}),e.proxy.__qPortal=!0,Pe(e.proxy,"contentEl",()=>t.value),{showPortal:y,hidePortal:b,portalIsActive:d,portalIsAccessible:c,renderPortal:()=>_===!0?n():d.value===!0?[w(Pt,{to:f},n())]:void 0}}const oe=[];let ue;function On(e){ue=e.keyCode===27}function In(){ue===!0&&(ue=!1)}function $n(e){ue===!0&&(ue=!1,vt(e,27)===!0&&oe[oe.length-1](e))}function bt(e){window[e]("keydown",On),window[e]("blur",In),window[e]("keyup",$n),ue=!1}function Ln(e){Te.is.desktop===!0&&(oe.push(e),oe.length===1&&bt("addEventListener"))}function at(e){const t=oe.indexOf(e);t>-1&&(oe.splice(t,1),oe.length===0&&bt("removeEventListener"))}const ae=[];function xt(e){ae[ae.length-1](e)}function zn(e){Te.is.desktop===!0&&(ae.push(e),ae.length===1&&document.body.addEventListener("focusin",xt))}function it(e){const t=ae.indexOf(e);t>-1&&(ae.splice(t,1),ae.length===0&&document.body.removeEventListener("focusin",xt))}let xe=0;const Qn={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},rt={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var Kn=_e({name:"QDialog",inheritAttrs:!1,props:{...Qt,...qn,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}},emits:[...Kt,"shake","click","escapeKey"],setup(e,{slots:t,emit:n,attrs:l}){const d=te(),c=O(null),f=O(!1),s=O(!1);let _=null,y=null,b,g;const j=p(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:D}=Ht(),{registerTimeout:L}=Ut(),{registerTick:K,removeTick:I}=Sn(),{transitionProps:E,transitionStyle:S}=Mn(e,()=>rt[e.position][0],()=>rt[e.position][1]),{showPortal:N,hidePortal:Z,portalIsAccessible:V,renderPortal:P}=Dn(d,c,Y,"dialog"),{hide:R}=Nt({showing:f,hideOnRouteChange:j,handleShow:x,handleHide:F,processOnMount:!0}),{addToHistory:X,removeFromHistory:r}=jt(f,R,j),i=p(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${Qn[e.position]}`+(s.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),m=p(()=>f.value===!0&&e.seamless!==!0),u=p(()=>e.autoClose===!0?{onClick:$}:{}),C=p(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${m.value===!0?"modal":"seamless"}`,l.class]);Q(()=>e.maximized,v=>{f.value===!0&&q(v)}),Q(m,v=>{D(v),v===!0?(zn(B),Ln(k)):(it(B),at(k))});function x(v){X(),y=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,q(e.maximized),N(),s.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),K(h)):I(),L(()=>{if(d.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:M,bottom:G}=document.activeElement.getBoundingClientRect(),{innerHeight:Oe}=window,qe=window.visualViewport!==void 0?window.visualViewport.height:Oe;M>0&&G>qe/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-qe,G>=Oe?1/0:Math.ceil(document.scrollingElement.scrollTop+G-qe/2))),document.activeElement.scrollIntoView()}g=!0,c.value.click(),g=!1}N(!0),s.value=!1,n("show",v)},e.transitionDuration)}function F(v){I(),r(),H(!0),s.value=!0,Z(),y!==null&&(((v&&v.type.indexOf("key")===0?y.closest('[tabindex]:not([tabindex^="-"])'):void 0)||y).focus(),y=null),L(()=>{Z(!0),s.value=!1,n("hide",v)},e.transitionDuration)}function h(v){De(()=>{let M=c.value;M===null||M.contains(document.activeElement)===!0||(M=(v!==""?M.querySelector(v):null)||M.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||M.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||M.querySelector("[autofocus], [data-autofocus]")||M,M.focus({preventScroll:!0}))})}function o(v){v&&typeof v.focus=="function"?v.focus({preventScroll:!0}):h(),n("shake");const M=c.value;M!==null&&(M.classList.remove("q-animate--scale"),M.classList.add("q-animate--scale"),_!==null&&clearTimeout(_),_=setTimeout(()=>{_=null,c.value!==null&&(M.classList.remove("q-animate--scale"),h())},170))}function k(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&o():(n("escapeKey"),R()))}function H(v){_!==null&&(clearTimeout(_),_=null),(v===!0||f.value===!0)&&(q(!1),e.seamless!==!0&&(D(!1),it(B),at(k))),v!==!0&&(y=null)}function q(v){v===!0?b!==!0&&(xe<1&&document.body.classList.add("q-body--dialog"),xe++,b=!0):b===!0&&(xe<2&&document.body.classList.remove("q-body--dialog"),xe--,b=!1)}function $(v){g!==!0&&(R(v),n("click",v))}function a(v){e.persistent!==!0&&e.noBackdropDismiss!==!0?R(v):e.noShake!==!0&&o()}function B(v){e.allowFocusOutside!==!0&&V.value===!0&&wt(c.value,v.target)!==!0&&h('[tabindex]:not([tabindex="-1"])')}Object.assign(d.proxy,{focus:h,shake:o,__updateRefocusTarget(v){y=v||null}}),se(H);function Y(){return w("div",{role:"dialog","aria-modal":m.value===!0?"true":"false",...l,class:C.value},[w(Be,{name:"q-transition--fade",appear:!0},()=>m.value===!0?w("div",{class:"q-dialog__backdrop fixed-full",style:S.value,"aria-hidden":"true",tabindex:-1,onClick:a}):null),w(Be,E.value,()=>f.value===!0?w("div",{ref:c,class:i.value,style:S.value,tabindex:-1,...u.value},J(t.default)):null)])}return P}});function ut(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}var st=Ct({name:"close-popup",beforeMount(e,{value:t}){const n={depth:ut(t),handler(l){n.depth!==0&&setTimeout(()=>{const d=Bn(e);d!==void 0&&Pn(d,l,n.depth)})},handlerKey(l){vt(l,13)===!0&&n.handler(l)}};e.__qclosepopup=n,e.addEventListener("click",n.handler),e.addEventListener("keyup",n.handlerKey)},updated(e,{value:t,oldValue:n}){t!==n&&(e.__qclosepopup.depth=ut(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});const Un={queryYT:jn},Nn="AIzaSyCqhq8Y4n72HaAbKOAeIdi5b27siFouIio",kt="ytSearchDB";var fe=Hn();function jn(e){if(console.log("gCacheSearches[value]:",fe[e]),fe[e])return Promise.resolve(fe[e]);const t=`https://www.googleapis.com/youtube/v3/search?part=snippet
    &videoEmbeddable=true&type=video&key=${Nn}&q=${e}`;return fetch(t).then(n=>n.json()).then(n=>{console.log("YT Search results: ",n);var l=n.items.map(d=>({imgUrl:d.snippet.thumbnails.medium.url,title:d.snippet.title,id:d.id.videoId}));return fe[e]=l,Zn(),l})}function Hn(){var e=ft.loadFromStorage(kt);return e||(e={}),e}function Zn(){ft.saveToStorage(kt,fe)}const Yn="my_uploads",Wn="dbdrnjhpm",Gn=async e=>{const t=`https://api.cloudinary.com/v1_1/${Wn}/image/upload`;try{const n=new FormData;return n.append("upload_preset",Yn),n.append("file",e.target.files[0]),await(await fetch(t,{method:"POST",body:n})).json()}catch(n){throw console.error("Failed to upload",n),n}},Jn={name:"MixtapeDetails",setup(){const e=O({}),t=O(""),n=O([]),l=O(!1),d=Dt(),c=Ot(),f=_t(),s=Zt();console.log("mixtape:",e);const _=d.params.id;Q(t,()=>{L()}),Q(()=>d.params.id,E=>{y(E)}),Se(()=>{y(_)});const y=async E=>{try{e.value=await Me.get(E)}catch(S){console.error(S)}},b=async()=>{try{await f.saveMixtape(e.value),l.value=!1}catch(E){console.error(E)}},g=async()=>{try{await f.removeMixtape(e.value._id),c.push("/")}catch(E){console.error(E)}},j=async E=>{const{url:S}=await Gn(E);e.value.imgUrl=S},D=E=>{s.setCurrSong(E)},L=async()=>{try{n.value=await Un.queryYT(t.value),console.log("songs:",n)}catch(E){console.error("Error searching songs:",E)}};return{searchQuery:t,mixtape:e,songs:n,onAddSong:async E=>{try{const S=await Me.save({...e.value,songs:e.value.songs.length?[E,...e.value.songs]:[E]});e.value=S}catch(S){console.log("err:",S)}},onRemoveSong:async E=>{try{const S=await Me.save({...e.value,songs:e.value.songs.filter(N=>N.id!==E)});e.value=S}catch(S){console.log("err:",S)}},onPlaySong:D,handleFile:j,isModalOpen:l,onSaveMixtape:b,onRemoveMixtape:g}}},Xn=["src"],el=W("p",null,"Mixtape",-1),tl={class:"text-bold q-my-lg"},nl={class:"q-mt-sm"},ll=["src"],ol=["src"],al=W("div",{class:"text-h6"},"Edit details",-1),il=["src"];function rl(e,t,n,l,d,c){const f=It("q-label");return ie(),ve(en,{padding:""},{default:T(()=>[l.mixtape?(ie(),ve(tn,{key:0,rounded:"",onClick:t[0]||(t[0]=s=>l.isModalOpen=!0)},{avatar:T(()=>[W("img",{src:l.mixtape.imgUrl,alt:"mixtape image",style:{width:"250px",height:"250px"}},null,8,Xn)]),default:T(()=>{var s;return[el,W("h2",tl,ce(l.mixtape.name),1),W("small",null,ce(l.mixtape.desc),1),W("p",nl,[A(re,{name:"music_note",size:"20px"}),ge(" Made By "+ce((s=l.mixtape.createdBy)==null?void 0:s.nickname),1)])]}),_:1})):$t("",!0),A(Ne,{class:"q-mb-lg"},{default:T(()=>[(ie(!0),Le(Qe,null,ze(l.mixtape.songs,s=>he((ie(),ve(je,{key:s.id},{default:T(()=>[A(ne,{avatar:""},{default:T(()=>[A(re,{onClick:_=>l.onPlaySong(s),name:"play_circle",class:"cursor-pointer"},null,8,["onClick"])]),_:2},1024),A(ne,{avatar:""},{default:T(()=>[A(Ze,{rounded:""},{default:T(()=>[W("img",{src:s.imgUrl,alt:"song image"},null,8,ll)]),_:2},1024)]),_:2},1024),A(ne,null,{default:T(()=>[A(He,null,{default:T(()=>[ge(ce(s.title),1)]),_:2},1024)]),_:2},1024),A(ne,null,{default:T(()=>[A(re,{name:"remove_circle_outline",color:"primary",size:"20px",class:"cursor-pointer",onClick:_=>l.onRemoveSong(s.id)},null,8,["onClick"])]),_:2},1024)]),_:2},1024)),[[We]])),128))]),_:1}),A(f,null,{default:T(()=>[ge("Let's find something for your mixtape")]),_:1}),A(Fe,{class:"q-mb-md",outlined:"",debounce:"700",modelValue:l.searchQuery,"onUpdate:modelValue":t[1]||(t[1]=s=>l.searchQuery=s),placeholder:"Search for songs",dense:""},null,8,["modelValue"]),A(Ne,{class:"search-results"},{default:T(()=>[(ie(!0),Le(Qe,null,ze(l.songs,s=>he((ie(),ve(je,{clickable:"",key:s.id},{default:T(()=>[A(ne,{avatar:""},{default:T(()=>[A(Ze,null,{default:T(()=>[W("img",{src:s.imgUrl,alt:"song image"},null,8,ol)]),_:2},1024)]),_:2},1024),A(ne,null,{default:T(()=>[A(He,null,{default:T(()=>[ge(ce(s.title),1)]),_:2},1024)]),_:2},1024),A(ne,null,{default:T(()=>[A(re,{size:"20px",color:"primary",name:"add_circle_outline",onClick:_=>l.onAddSong(s)},null,8,["onClick"])]),_:2},1024)]),_:2},1024)),[[We]])),128))]),_:1}),A(Kn,{modelValue:l.isModalOpen,"onUpdate:modelValue":t[7]||(t[7]=s=>l.isModalOpen=s),persistent:""},{default:T(()=>[A(Jt,null,{default:T(()=>[A(Re,{style:{"min-width":"350px"}},{default:T(()=>[al]),_:1}),A(Re,null,{default:T(()=>[W("label",{onDrop:t[3]||(t[3]=Ke((...s)=>l.handleFile&&l.handleFile(...s),["prevent"])),onDragover:t[4]||(t[4]=Ke(()=>{},["prevent"]))},[W("input",{type:"file",onChange:t[2]||(t[2]=(...s)=>l.handleFile&&l.handleFile(...s)),hidden:""},null,32),W("img",{src:l.mixtape.imgUrl,alt:"mixtape image",style:{width:"250px",height:"250px"}},null,8,il)],32)]),_:1}),A(Re,{class:"q-pt-none"},{default:T(()=>[A(Fe,{dense:"",modelValue:l.mixtape.name,"onUpdate:modelValue":t[5]||(t[5]=s=>l.mixtape.name=s),autofocus:"",onKeyup:Ue(l.onSaveMixtape,["enter"])},null,8,["modelValue","onKeyup"]),A(Fe,{dense:"",modelValue:l.mixtape.desc,"onUpdate:modelValue":t[6]||(t[6]=s=>l.mixtape.desc=s),autogrow:"",onKeyup:Ue(l.onSaveMixtape,["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),A(_n,{align:"right",class:"text-primary"},{default:T(()=>[he(A(Ye,{flat:"",label:"Delete",onClick:l.onRemoveMixtape},null,8,["onClick"]),[[st]]),he(A(Ye,{flat:"",label:"Save",onClick:l.onSaveMixtape},null,8,["onClick"]),[[st]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}var yl=Tt(Jn,[["render",rl]]);export{yl as default};
